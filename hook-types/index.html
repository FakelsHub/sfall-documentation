<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  
    <title>Hook types - sfall - Scripting</title>

    
  

  <link rel="shortcut icon" href="/sfall-documentation/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/sfall-documentation/assets/css/just-the-docs.css">

  

  
    <script type="text/javascript" src="/sfall-documentation/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/sfall-documentation/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Hook types | sfall - Scripting</title>
<meta property="og:title" content="Hook types" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="“sfall functions documentation”" />
<meta property="og:description" content="“sfall functions documentation”" />
<link rel="canonical" href="/sfall-documentation/hook-types/" />
<meta property="og:url" content="/sfall-documentation/hook-types/" />
<meta property="og:site_name" content="sfall - Scripting" />
<script type="application/ld+json">
{"name":null,"description":"“sfall functions documentation”","author":null,"@type":"WebPage","url":"/sfall-documentation/hook-types/","publisher":null,"image":null,"headline":"Hook types","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>

  <div class="page-wrap">
    <div class="side-bar">
      <a href="/sfall-documentation/" class="site-title fs-6 lh-tight">sfall - Scripting</a>
      <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
      <div class="navigation main-nav js-main-nav">
        <nav role="navigation" aria-label="Main navigation">
  <ul class="navigation-list">
    
    
      
        
          <li class="navigation-list-item active">
            
            <a href="/sfall-documentation/404.html" class="navigation-list-link"></a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/" class="navigation-list-link">Home</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/arrays/" class="navigation-list-link">Arrays</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/array-functions/" class="navigation-list-link">Array functions</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/list-functions/" class="navigation-list-link">List functions</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/best-practices/" class="navigation-list-link">Best practices</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/data-types/" class="navigation-list-link">Data types</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/global-scripts/" class="navigation-list-link">Global scripts</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/global-script-functions/" class="navigation-list-link">Global script functions</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item active">
            
            <a href="/sfall-documentation/hooks/" class="navigation-list-link">Hooks</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/hook-functions/" class="navigation-list-link">Hook functions</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item  active">
                      
                      <a href="/sfall-documentation/hook-types/" class="navigation-list-link active">Hook types</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/art-and-animations/" class="navigation-list-link">Art and Animations</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/combat/" class="navigation-list-link">Combat</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/knockback/" class="navigation-list-link">Knockback</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/weapons-and-ammo/" class="navigation-list-link">Weapons and Ammo</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/critical-table/" class="navigation-list-link">Critical table</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/direct-memory-access/" class="navigation-list-link">Direct memory access</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/call-offset/" class="navigation-list-link">Call offset</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/read/" class="navigation-list-link">Read</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/write/" class="navigation-list-link">Write</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/explosions/" class="navigation-list-link">Explosions</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/global-variables/" class="navigation-list-link">Global variables</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/graphics/" class="navigation-list-link">Graphics</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/interface/" class="navigation-list-link">Interface</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/inventory/" class="navigation-list-link">Inventory</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/keyboard-and-mouse/" class="navigation-list-link">Keyboard and Mouse</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/maps-and-encounters/" class="navigation-list-link">Maps and Encounters</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/pathway/" class="navigation-list-link">Pathway</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/position-on-map/" class="navigation-list-link">Position on map</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/tiles/" class="navigation-list-link">Tiles</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/math/" class="navigation-list-link">Math</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/misc-finctions/" class="navigation-list-link">Misc finctions</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/modificators/" class="navigation-list-link">Modificators</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/objects-and-prototypes/" class="navigation-list-link">Objects and Prototypes</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/perks-and-traits/" class="navigation-list-link">Perks and Traits</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/scripting-config-files/" class="navigation-list-link">Scripting config files</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/sfall-funcx/" class="navigation-list-link">Sfall funcX</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/funcx-macros/" class="navigation-list-link">FuncX macros</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                              <li class="navigation-list-item ">
                                <a href="/sfall-documentation/npc-perks/" class="navigation-list-link">NPC perks</a>
                              </li>
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/skills/" class="navigation-list-link">Skills</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/sound-and-movie/" class="navigation-list-link">Sound and Movie</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/stats/" class="navigation-list-link">Stats</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="/sfall-documentation/alter-min-max/" class="navigation-list-link">Alter min/max</a>
                      
                        
                        <ul class="navigation-list-child-list">
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                            
                          
                        </ul>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/string-functions/" class="navigation-list-link">String functions</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/time-and-date/" class="navigation-list-link">Time and Date</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="/sfall-documentation/virtual-file-system/" class="navigation-list-link">Virtual file system</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
  </ul>
</nav>

      </div>
      <footer role="contentinfo" class="site-footer">
        <p class="text-small text-grey-dk-000 mb-0">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p>
      </footer>
    </div>
    <div class="main-content-wrap js-main-content" tabindex="0">
      <div class="page-header">
        <div class="main-content">
          
          <div class="search js-search">
            <div class="search-input-wrap">
              <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search sfall - Scripting" aria-label="Search sfall - Scripting" autocomplete="off">
              <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
            </div>
            <div class="js-search-results search-results-wrap"></div>
          </div>
          
          
            <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
              
                <li class="d-inline-block my-0"><a href="//github.com/FakelsHub/sFall-Extended/">Sfall on GitHub</a></li>
              
            </ul>
          
        </div>
      </div>
      <div class="main-content">
        
          
            <nav class="breadcrumb-nav">
              <ol class="breadcrumb-nav-list">
                
                  <li class="breadcrumb-nav-list-item"><a href="/sfall-documentation/hooks/">Hooks</a></li>
                
                <li class="breadcrumb-nav-list-item"><span>Hook types</span></li>
              </ol>
            </nav>
          
        
        <div id="main-content" class="page-content" role="main">
          
          <h1 class="no_toc" id="hook-types">Hook types</h1>

<ul id="markdown-toc">
  <li><a href="#adjustfid" id="markdown-toc-adjustfid">AdjustFID</a></li>
  <li><a href="#afterhitroll" id="markdown-toc-afterhitroll">AfterHitRoll</a></li>
  <li><a href="#ammocost" id="markdown-toc-ammocost">AmmoCost</a></li>
  <li><a href="#barterprice" id="markdown-toc-barterprice">BarterPrice</a></li>
  <li><a href="#calcapcost" id="markdown-toc-calcapcost">CalcAPCost</a></li>
  <li><a href="#cartravel" id="markdown-toc-cartravel">CarTravel</a></li>
  <li><a href="#combatdamage" id="markdown-toc-combatdamage">CombatDamage</a></li>
  <li><a href="#combatturn" id="markdown-toc-combatturn">CombatTurn</a></li>
  <li><a href="#deathanim1" id="markdown-toc-deathanim1">DeathAnim1</a></li>
  <li><a href="#deathanim2" id="markdown-toc-deathanim2">DeathAnim2</a></li>
  <li><a href="#deprecated-hooks" id="markdown-toc-deprecated-hooks">Deprecated hooks</a></li>
  <li><a href="#descriptionobj" id="markdown-toc-descriptionobj">DescriptionObj</a></li>
  <li><a href="#explosivetimer" id="markdown-toc-explosivetimer">ExplosiveTimer</a></li>
  <li><a href="#findtarget" id="markdown-toc-findtarget">FindTarget</a></li>
  <li><a href="#gamemodechange" id="markdown-toc-gamemodechange">GameModeChange</a></li>
  <li><a href="#invenwield" id="markdown-toc-invenwield">InvenWield</a></li>
  <li><a href="#inventorymove" id="markdown-toc-inventorymove">InventoryMove</a></li>
  <li><a href="#itemdamage" id="markdown-toc-itemdamage">ItemDamage</a></li>
  <li><a href="#keypress" id="markdown-toc-keypress">KeyPress</a></li>
  <li><a href="#mouseclick" id="markdown-toc-mouseclick">MouseClick</a></li>
  <li><a href="#movecost" id="markdown-toc-movecost">MoveCost</a></li>
  <li><a href="#ondeath" id="markdown-toc-ondeath">OnDeath</a></li>
  <li><a href="#onexplosion" id="markdown-toc-onexplosion">OnExplosion</a></li>
  <li><a href="#removeinvenobj" id="markdown-toc-removeinvenobj">RemoveInvenObj</a></li>
  <li><a href="#resttimer" id="markdown-toc-resttimer">RestTimer</a></li>
  <li><a href="#setglobalvar" id="markdown-toc-setglobalvar">SetGlobalVar</a></li>
  <li><a href="#setlighting" id="markdown-toc-setlighting">SetLighting</a></li>
  <li><a href="#sneak" id="markdown-toc-sneak">Sneak</a></li>
  <li><a href="#steal" id="markdown-toc-steal">Steal</a></li>
  <li><a href="#subcombatdamage" id="markdown-toc-subcombatdamage">SubCombatDamage</a></li>
  <li><a href="#tohit" id="markdown-toc-tohit">ToHit</a></li>
  <li><a href="#useanimobj" id="markdown-toc-useanimobj">UseAnimObj</a></li>
  <li><a href="#useobj" id="markdown-toc-useobj">UseObj</a></li>
  <li><a href="#useobjon" id="markdown-toc-useobjon">UseObjOn</a></li>
  <li><a href="#useskill" id="markdown-toc-useskill">UseSkill</a></li>
  <li><a href="#useskillon" id="markdown-toc-useskillon">UseSkillOn</a></li>
  <li><a href="#withinperception" id="markdown-toc-withinperception">WithinPerception</a></li>
</ul>
<hr />

<h2 id="adjustfid">AdjustFID</h2>

<p><code class="highlighter-rouge">HOOK_ADJUSTFID</code> (hs_adjustfid.int)</p>

<p>Runs after calculating character figure FID on the inventory screen, whenever the game decides that character appearance might change.
Also happens on other screens, like barter.</p>

<p><strong>NOTE:</strong> FID has following format: 0x0ABBCDDD, where A is object type, BB - animation code (always 0 in this case), C - weapon code, DDD - FRM index in LST file.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - the vanilla fid calculated by the engine according to critter base FID and armor/weapon being used

int     ret1 - overrides the calculated FID with provided value
</code></pre></div></div>

<h2 id="afterhitroll">AfterHitRoll</h2>

<p><code class="highlighter-rouge">HOOK_AFTERHITROLL</code> (hs_afterhitroll.int)</p>

<p>Runs after Fallout has decided if an attack will hit or miss.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - If the attack will hit. (0 - critical miss, 1 - miss, 2 - hit, 3 - critical hit)
critter arg2 - The attacker
critter arg3 - The target of the attack
int     arg4 - The bodypart
int     arg5 - The hit chance

int     ret1 - Override the hit/miss
int     ret2 - Override the targeted bodypart
critter ret3 - Override the target of the attack
</code></pre></div></div>

<h2 id="ammocost">AmmoCost</h2>

<p><code class="highlighter-rouge">HOOK_AMMOCOST</code> (hs_ammocost.int)</p>

<p>Runs when calculating ammo cost for a weapon. Doesn’t affect damage, only how much ammo is spent.
By default, weapon will shoot when at least 1 round is left, regardless of ammo cost calculations.
To add proper check for ammo before shooting and proper calculation of number of burst rounds (hook type 1 and 2 in arg4), set <code class="highlighter-rouge">Misc.CheckWeaponAmmoCost=1</code> in ddraw.ini</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Item    arg1 - weapon
int     arg2 - Number of bullets in burst (1 for single shots)
int     arg3 - Ammo cost calculated by original function (this is basically 2 for Super Cattle Prod and Mega Power Fist)
int     arg4 - Type of hook (0 - when subtracting ammo after single shot attack, 1 - when checking for "out of ammo" before attack, 2 - when calculating number of burst rounds, 3 - when subtracting ammo after burst attack)

int     ret1 - new ammo cost value (set to 0 for unlimited ammo)
</code></pre></div></div>

<h2 id="barterprice">BarterPrice</h2>

<p><code class="highlighter-rouge">HOOK_BARTERPRICE</code> (hs_barterprice.int)</p>

<p>Runs whenever the value of goods being purchased is calculated.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>critter arg1 - the critter doing the bartering (either dude_obj or inven_dude)
critter arg2 - the critter being bartered with
int     arg3 - the default value of the goods
critter arg4 - table of requested goods (being bought from NPC)
int     arg5 - the amount of actual caps in the barter stack (as opposed to goods)
int     arg6 - the value of all goods being traded before skill modifications
critter arg7 - table of offered goods (being sold to NPC)
int     arg8 - the total cost of the goods offered by the player
int     arg9 - set 1 if the "offers" button was pressed (not for a party member), otherwise 0

int     ret1 - the modified value of all of the goods (pass -1 if you just want to modify offered goods)
int     ret2 - the modified value of all offered goods
</code></pre></div></div>

<h2 id="calcapcost">CalcAPCost</h2>

<p><code class="highlighter-rouge">HOOK_CALCAPCOST</code> (hs_calcapcost.int)</p>

<p>Runs whenever Fallout is calculating the AP cost of using the weapon (or unarmed attack). Doesn’t run for using other item types or moving. Note that the first time a game is loaded, this script doesn’t run before the initial interface is drawn, so if the script effects the AP cost of whatever is in the player’s hands at the time the wrong AP cost will be shown. It will be fixed the next time the interface is redrawn. You can get the weapon object by checking item slot based on attack type (<code class="highlighter-rouge">ATKTYPE_LWEP1</code>, <code class="highlighter-rouge">ATKTYPE_LWEP2</code>, etc) and then calling <code class="highlighter-rouge">critter_inven_obj()</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>critter arg1 - The critter performing the action
int     arg2 - Attack Type (see ATKTYPE_* constants)
int     arg3 - Is aimed attack (1 or 0)
int     arg4 - The normal AP cost

int     ret1 - The new AP cost
</code></pre></div></div>

<h2 id="cartravel">CarTravel</h2>

<p><code class="highlighter-rouge">HOOK_CARTRAVEL</code> (hs_cartravel.int)</p>

<p>Runs continuously during worldmap travel on car.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - vanilla car speed (between 3 and 8 "steps")
int     arg2 - vanilla fuel consumption (100 and below)

int     ret1 - car speed override (pass -1 if you just want to override fuel consumption)
int     ret2 - fuel consumption override
</code></pre></div></div>

<h2 id="combatdamage">CombatDamage</h2>

<p><code class="highlighter-rouge">HOOK_COMBATDAMAGE</code> (hs_subcombatdmg.int)</p>

<p>Runs when:</p>
<ol>
  <li>Game calculates how much damage each target will get. This includes primary target as well as all extras (explosions and bursts). This happens BEFORE the actual attack animation.</li>
  <li>AI decides whether it is safe to use area attack (burst, grenades), if he might hit friendlies.</li>
</ol>

<p>Does not run for misses, or non-combat damage like dynamite explosions.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>critter arg1  - The target
critter arg2  - The attacker
int     arg3  - The amount of damage to the target
int     arg4  - The amount of damage to the attacker
int     arg5  - The special effect flags for the target (use bwand DAM_* to check specific flags)
int     arg6  - The special effect flags for the attacker (use bwand DAM_* to check specific flags)
int     arg7  - The weapon used in the attack
int     arg8  - The bodypart that was struck
int     arg9  - Damage Multiplier (this is divided by 2, so a value of 3 does 1.5x damage, and 8 does 4x damage. Usually it's 2; for critical hits, the value is taken from the critical table; with Silent Death perk and the corresponding attack conditions, the value will be doubled)
int     arg10 - Number of bullets actually hit the target (1 for melee attacks)
int     arg11 - The amount of knockback to the target
int     arg12 - Attack Type (see ATKTYPE_* constants)

int     ret1 - The damage to the target
int     ret2 - The damage to the attacker
int     ret3 - The special effect flags for the target
int     ret4 - The special effect flags for the attacker
int     ret5 - The amount of knockback to the target
</code></pre></div></div>

<h2 id="combatturn">CombatTurn</h2>

<p><code class="highlighter-rouge">HOOK_COMBATTURN</code> (hs_combatturn.int)</p>

<p>Runs before and after each turn in combat (for both PC and NPC).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - event type: 1 - start of turn, 0 - normal end of turn, -1 - combat ended abruptly (by script or by pressing Enter during PC turn)
int     arg2 - critter doing the turn
bool    arg3 - set to 1 at the start of the player's turn after the game has been loaded, 0 otherwise

int     ret1 - pass 1 at the start of turn to skip the turn, pass -1 at the end of turn to force end of combat
</code></pre></div></div>

<h2 id="deathanim1">DeathAnim1</h2>

<p><code class="highlighter-rouge">HOOK_DEATHANIM1</code> (hs_deathanim1.int)</p>

<p>Runs before Fallout tries to calculate the death animation. Lets you switch out which weapon Fallout sees.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - The pid of the weapon performing the attack. (May be -1 if the attack is unarmed)
critter arg2 - The attacker
critter arg3 - The target
int     arg4 - The amount of damage

int     ret1 - The pid of an object to override the attacking weapon with
</code></pre></div></div>

<h2 id="deathanim2">DeathAnim2</h2>

<p><code class="highlighter-rouge">HOOK_DEATHANIM2</code> (hs_deathanim2.int)</p>

<p>Runs after Fallout has calculated the death animation. Lets you set your own custom frame id, so more powerful than hs_deathanim1, but performs no validation. When using <code class="highlighter-rouge">critter_dmg</code> function, this script will also run. In that case weapon pid will be -1 and target will point to an object with <code class="highlighter-rouge">obj_art_fid == 0x20001F5</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>item    arg1 - The pid of the weapon performing the attack. (May be -1 if the attack is unarmed)
critter arg2 - The attacker
critter arg3 - The target
int     arg4 - The amount of damage
int     arg5 - The death anim id calculated by Fallout

int     ret1 - The death anim id to override with
</code></pre></div></div>

<h2 id="deprecated-hooks">Deprecated hooks</h2>

<ul>
  <li><code class="highlighter-rouge">hs_hexmoveblocking.int</code></li>
  <li><code class="highlighter-rouge">hs_hexaiblocking.int</code></li>
  <li><code class="highlighter-rouge">hs_hexshootblocking.int</code></li>
  <li><code class="highlighter-rouge">hs_hexsightblocking.int</code></li>
</ul>

<p>Run when checking to see if a hex blocks movement or shooting. (or ai-ing, presumably…)</p>

<p><strong>NOTE:</strong> these hook scripts can become very CPU-intensive and you should avoid using them.
For this reason, they may be removed in future versions.
If you want to check if some tile or path is blocked, use functions: <code class="highlighter-rouge">obj_blocking_tile</code>, <code class="highlighter-rouge">obj_blocking_line</code>, <code class="highlighter-rouge">path_find_to</code>.
If you want script to be called every time NPC moves by hex in combat, use <code class="highlighter-rouge">hs_movecost hook</code>.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Critter arg1 - the critter doing the moving
int     arg2 - the tile number being checked
int     arg3 - the elevation being checked
int     arg4 - 1 if the hex would normally be blocking

object* ret1 - 0 if the hex doesn't block, or any sort of object pointer if it does
</code></pre></div></div>

<h2 id="descriptionobj">DescriptionObj</h2>

<p><code class="highlighter-rouge">HOOK_DESCRIPTIONOBJ</code> (hs_descriptionobj.int)</p>

<p>Runs when using the examine action icon to display item description. You can override the description of the item.
An example usage would be to add an additional description to the item based on player’s stats/skills.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Obj     arg1 - the item

int     ret1 - a pointer to the new text received by using "get_string_pointer" function
</code></pre></div></div>

<h2 id="explosivetimer">ExplosiveTimer</h2>

<p><code class="highlighter-rouge">HOOK_EXPLOSIVETIMER</code> (hs_explosivetimer.int)</p>

<p>Runs after setting the explosive timer. You can override the result.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - the time in ticks set in the timer
Obj     arg2 - the explosive object
int     arg3 - the result of engine calculation of whether the timer was set successfully: 1 - failure, 2 - success (similar to ROLL_* in Condtion.h)

int     ret1 - overrides the time of the timer (maximum 18000 ticks)
int     ret2 - overrides the result of engine calculation: 0/1 - failure, 2/3 - success (similar to ROLL_*), any other value - use engine handler
</code></pre></div></div>

<h2 id="findtarget">FindTarget</h2>

<p><code class="highlighter-rouge">HOOK_FINDTARGET</code> (hs_findtarget.int)</p>

<p>Runs when the ai is trying to pick a target in combat. Fallout first chooses a list of 4 likely suspects, then normally sorts them in order of weakness/distance/etc depending on the ai caps of the attacker. This hook replaces that sorting function, allowing you to sort the targets in some arbitrary way. Use sfall_return to give the 4 targets, in order of preference. If you want to specify less than 4 targets, fill in the extra spaces with 0’s. Pass -1 to skip the return value.</p>

<p>The return values can include critters that weren’t in the list of possible targets, but the additional targets may still be discarded later on in the combat turn if they are out of the attackers perception or the chance of a successful hit is too low. The list of possible targets often includes duplicated entries.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>critter arg1 - The attacker
critter arg2 - A possible target
critter arg3 - A possible target
critter arg4 - A possible target
critter arg5 - A possible target

critter ret1 - The first choice of target
critter ret2 - The second choice of target
critter ret3 - The third choice of target
critter ret4 - The fourth choice of target
</code></pre></div></div>

<h2 id="gamemodechange">GameModeChange</h2>

<p><code class="highlighter-rouge">HOOK_GAMEMODECHANGE</code> (hs_gamemodechange.int)</p>

<p>Runs once every time when the game mode was changed, like opening/closing the inventory, character screen, pipboy, etc.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - event type: 1 - when the player exits the game, 0 - otherwise
</code></pre></div></div>

<h2 id="invenwield">InvenWield</h2>

<p><code class="highlighter-rouge">HOOK_INVENWIELD</code> (hs_invenwield.int)</p>

<p>Runs before wielding or unwielding an armor or a weapon by a critter (except when using inventory by PC).
An example usage would be to change critter art depending on armor being used or to dynamically customize weapon animations.
NOTE: when replacing a previously wielded armor or weapon, the unwielding hook will not be executed.
If you need to rely on this, try checking if armor/weapon is already equipped when wielding hook is executed.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Critter arg1 - critter
Obj     arg2 - item being wielded or unwielded (weapon/armor)
int     arg3 - slot (INVEN_TYPE_*)
int     arg4 - 1 when wielding, 0 when unwielding

int     ret1 - overrides hard-coded handler (-1 - use engine handler, any other value - override) - NOT RECOMMENDED
</code></pre></div></div>

<h2 id="inventorymove">InventoryMove</h2>

<p><code class="highlighter-rouge">HOOK_INVENTORYMOVE</code> (hs_inventorymove.int)</p>

<p>Runs before moving items between inventory slots in dude interface. You can override the action.
What you can NOT do with this hook:</p>
<ul>
  <li>force moving items to inappropriate slots (like gun in armor slot)
What you can do:</li>
  <li>restrict player from using specific weapons or armors</li>
  <li>add AP costs for all inventory movement including reloading</li>
  <li>apply or remove some special scripted effects depending on PC’s armor</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - Target slot (0 - main backpack, 1 - left hand, 2 - right hand, 3 - armor slot, 4 - weapon, when reloading it by dropping ammo, 5 - container, like bag/backpack, 6 - dropping on the ground, 7 - picking up item, 8 - dropping item on the character portrait)
Item    arg2 - Item being moved
Item    arg3 - Item being replaced, weapon being reloaded, or container being filled (can be 0)

int     ret1 - Override setting (-1 - use engine handler, any other value - prevent relocation of item/reloading weapon/picking up item)
</code></pre></div></div>

<h2 id="itemdamage">ItemDamage</h2>

<p><code class="highlighter-rouge">HOOK_ITEMDAMAGE</code> (hs_itemdamage.int)</p>

<p>Runs when retrieving the damage rating of the player’s used weapon. (Which may be their fists.)</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - The default min damage
int     arg2 - The default max damage
Item    arg3 - The weapon used. (0 if unarmed)
Critter arg4 - The critter doing the attacking
int     arg5 - The type of attack
int     arg6 - non-zero if this is an attack using a melee weapon

int     ret1 - Either the damage to be used, if ret2 isn't given, or the new minimum damage if it is
int     ret2 - The new maximum damage
</code></pre></div></div>

<h2 id="keypress">KeyPress</h2>

<p><code class="highlighter-rouge">HOOK_KEYPRESS</code> (hs_keypress.int)</p>

<p>Runs once every time when any key was pressed or released.</p>
<ul>
  <li>DX codes: (see dik.h header)</li>
  <li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/dd375731%28v=vs.85%29.aspx">VK codes</a></li>
</ul>

<p><strong>NOTE:</strong> if you want to override a key, the new key DX scancode should be the same for both pressed and released events.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - event type: 1 - pressed, 0 - released
int     arg2 - key DX scancode
int     arg3 - key VK code (very similar to ASCII codes)

int     ret1 - overrides the pressed key (a new key DX scancode or 0 for no override)
</code></pre></div></div>

<h2 id="mouseclick">MouseClick</h2>

<p><code class="highlighter-rouge">HOOK_MOUSECLICK</code> (hs_mouseclick.int)</p>

<p>Runs once every time when a mouse button was pressed or release.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - event type: 1 - pressed, 0 - released
int     arg2 - button number (0 - left, 1 - right, up to 7)
</code></pre></div></div>

<h2 id="movecost">MoveCost</h2>

<p><code class="highlighter-rouge">HOOK_MOVECOST</code> (hs_movecost.int)</p>

<p>Runs when calculating the AP cost of movement</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Critter arg1 - the critter doing the moving
int     arg2 - the number of hexes being moved
int     arg3 - the original AP cost

int     ret1 - the new AP cost
</code></pre></div></div>

<h2 id="ondeath">OnDeath</h2>

<p><code class="highlighter-rouge">HOOK_ONDEATH</code> (hs_ondeath.int)</p>

<p>Runs immediately after a critter dies for any reason. No return values; this is just a convenience for when you need to do something after death for a large number of different critters and don’t want to have to script each and every one of them.</p>

<p><code class="highlighter-rouge">Critter arg1 - The critter that just died</code></p>

<h2 id="onexplosion">OnExplosion</h2>

<p><code class="highlighter-rouge">HOOK_ONEXPLOSION</code> (hs_onexplosion.int)</p>

<p>Runs when Fallout is checking all the tiles within the explosion radius for targets before an explosion occurs.
The tile checking will be interrupted when 6 additional targets (critters) are received.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - event type: 1 - when checking objects within the explosion radius without causing damage (e.g. the player drops an active explosive), 0 - otherwise
Critter arg2 - The attacker
int     arg3 - The tile on which the explosion occurs
int     arg4 - checked tile within the explosion radius
Obj     arg5 - first found object on the checked tile as an additional target
Critter arg6 - The target critter, may be 0 or equal to the attacker
int     arg7 - 1 when using throwing weapons (e.g. grenades), 0 otherwise

int     ret1 - overrides the found object on the checked tile, pass 0 to skip the object
</code></pre></div></div>

<h2 id="removeinvenobj">RemoveInvenObj</h2>

<p><code class="highlighter-rouge">HOOK_REMOVEINVENOBJ</code> (hs_removeinvenobj.int)</p>

<p>Runs when an object is removed from a container or critter’s inventory for any reason.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Obj     arg1 - the owner that the object is being removed from
item    arg2 - the item that is being removed
int     arg3 - the number of items to remove
int     arg4 - The reason the object is being removed (see RMOBJ_* constants)
Obj     arg5 - The destination object when the item is moved to another object, otherwise 0
</code></pre></div></div>

<h2 id="resttimer">RestTimer</h2>

<p><code class="highlighter-rouge">HOOK_RESTTIMER</code> (hs_resttimer.int)</p>

<p>Runs continuously while the player is resting (using pipboy alarm clock).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - the game time in ticks
int     arg2 - event type: 1 - when the resting ends normally, -1 - when pressing ESC to cancel the timer, 0 - otherwise
int     arg3 - the hour part of the length of resting time
int     arg4 - the minute part of the length of resting time

int     ret1 - pass 1 to interrupt the resting, pass 0 to continue the rest if it was interrupted by pressing ESC key
</code></pre></div></div>

<h2 id="setglobalvar">SetGlobalVar</h2>

<p><code class="highlighter-rouge">HOOK_SETGLOBALVAR</code> (hs_setglobalvar.int)</p>

<p>Runs when setting the value of a global variable.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - the index number of the global variable being set
int     arg2 - the set value of the global variable

int     ret1 - overrides the value of the global variable
</code></pre></div></div>

<h2 id="setlighting">SetLighting</h2>

<p><code class="highlighter-rouge">HOOK_SETLIGHTING</code> (hs_setlighting.int)</p>

<p>Runs before setting the light level for an object or a map. You can override the result.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Obj     arg1 - the object being set, or -1 when setting the light level for a map
int     arg2 - the light intensity
int     arg3 - the light radius, or -1 when setting the light level for a map

int     ret1 - overrides the light intensity. Intensity range is from 0 to 65536
int     ret2 - overrides the light radius. Radius range is from 0 to 8 (works only for the object)
</code></pre></div></div>

<h2 id="sneak">Sneak</h2>

<p><code class="highlighter-rouge">HOOK_SNEAK</code> (hs_sneak.int)</p>

<p>Runs when the Sneak skill is activated, or when the game rolls another Sneak check after the duration for the current one is over.
You can override the result of a random Sneak check or the duration time for the current result.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - Sneak check result: 1 - success, 0 - failure
int     arg2 - the duration in ticks for the current Sneak check (time depends on Sneak skill level)
Critter arg3 - the critter (usually dude_obj)

int     ret1 - overrides the result of the Sneak check
int     ret2 - overrides the duration time for the current result
</code></pre></div></div>

<h2 id="steal">Steal</h2>

<p><code class="highlighter-rouge">HOOK_STEAL</code> (hs_steal.int)</p>

<p>Runs when checking an attempt to steal or plant an item in other inventory using Steal skill.</p>

<p>This is fired before the default handlers are called, which you can override. In this case you MUST provide message of the result to player (“You steal the %s”, “You are caught planting the %s”, etc.).
Example message (vanilla behavior): <code class="highlighter-rouge">display_msg(sprintf(mstr_skill(570 + (isSuccess != false) + arg4*2), obj_name(arg3)))</code>;</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Critter arg1 - Thief
Obj     arg2 - The target
Item    arg3 - Item being stolen/planted
int     arg4 - 0 when stealing, 1 when planting

int     ret1 - overrides hard-coded handler (1 - force success, 0 - force fail, -1 - use engine handler)
</code></pre></div></div>

<h2 id="subcombatdamage">SubCombatDamage</h2>

<p><code class="highlighter-rouge">HOOK_SUBCOMBATDAMAGE</code> (hs_subcombatdamage.int)</p>

<p>This hook overrides the vanilla damage calculation formula.
Runs when:</p>
<ol>
  <li>Before the game calculates how much damage each target will get. This includes primary target as well as all extras (explosions and bursts).</li>
  <li>AI decides whether it is safe to use area attack (burst, grenades), if he might hit friendlies.</li>
</ol>

<p>Does not run for misses, non-combat damage like dynamite explosions, or if one of the damage formulas is selected in ddraw.ini.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Critter arg1 - The attacker
Critter arg2 - The target
Obj     arg3 - The weapon used in the attack
int     arg4 - Attack Type (see ATKTYPE_* constants)
int     arg5 - Number of bullets actually hit the target (1 for melee attacks)
int     arg6 - Target's Damage Resistance (DR) value (affected by critical hit effects, perks, traits, and special unarmed attacks)
int     arg7 - Target's Damage Threshold (DT) value (affected by critical hit effects, perks, traits, and special unarmed attacks)
int     arg8 - Bonus ranged damage from the perk
int     arg9 - Damage Multiplier (this is divided by 2, so a value of 3 does 1.5x damage, and 8 does 4x damage. Usually it's 2; for critical hits, the value is taken from the critical table; with Silent Death perk and the corresponding attack conditions, the value will be doubled)
int     arg10 - Combat Difficulty multiplier (125 - rough, 100 - normal, 75 - wimpy; for player or party members it's always 100)
int     arg11 - The calculated amount of damage (usually 0, required when using multiple hook scripts to calculate damage and using the set_sfall_arg function)
mixed   arg12 - Computed attack results (see C_ATTACK_* for offsets and use get/set_object_data functions to get/set the data)

int     ret1 - The returned amount of damage
</code></pre></div></div>

<h2 id="tohit">ToHit</h2>

<p><code class="highlighter-rouge">HOOK_TOHIT</code> (hs_tohit.int)</p>

<p>Runs when Fallout is calculating the chances of an attack striking a target. Runs after the hit chance is fully calculated normally, including applying the 95% cap.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int     arg1 - The unmodified hit chance
critter arg2 - The attacker
critter arg3 - The target of the attack
int     arg4 - The targeted bodypart
int     arg5 - Source tile (may differ from attacker's tile, when AI is considering potential fire position)
int     arg6 - Attack Type (one of ATKTYPE_*)
int     arg7 - Ranged flag (0 or 1, actually passed 1 even for unarmed attacks, may be a vanilla bug)

int     ret1 - the new hit chance
</code></pre></div></div>

<h2 id="useanimobj">UseAnimObj</h2>

<p><code class="highlighter-rouge">HOOK_USEANIMOBJ</code> (hs_useanimobj.int)</p>

<p>Runs before playing the “use” (usually “magic hands”) animation when a critter uses a scenery/container object on the map, or before walking/running animation if the player is at a distance from the object.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Critter arg1 - the critter that uses an object (usually dude_obj)
Obj     arg2 - the object being used
int     arg3 - the animation code being used (see ANIM_* in Animcomd.h)

int     ret1 - overrides the animation code (pass -1 if you want to skip the animation)
</code></pre></div></div>

<h2 id="useobj">UseObj</h2>

<p><code class="highlighter-rouge">HOOK_USEOBJ</code> (hs_useobj.int)</p>

<p>Runs when:</p>
<ol>
  <li>a critter uses an object from inventory which have “Use” action flag set or it’s an active flare or dynamite.</li>
  <li>player uses an object from main interface</li>
</ol>

<p>This is fired before the object is used, and the relevant use_obj script procedures are run. You can disable default item behavior.
<strong>NOTE:</strong> you can’t remove and/or destroy this object during the hookscript (game will crash otherwise). To remove it, return 1.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Critter arg1 - The user
int     arg2 - The object used

int     ret1 - overrides hard-coded handler and selects what should happen with the item (0 - place it back, 1 - remove it, -1 - use engine handler)
</code></pre></div></div>

<h2 id="useobjon">UseObjOn</h2>

<p><code class="highlighter-rouge">HOOK_USEOBJON</code> (hs_useobjon.int)</p>

<p>Runs when:</p>
<ol>
  <li>a critter uses an object on another critter. (Or themselves)</li>
  <li>a critter uses an object from inventory screen AND this object does not have “Use” action flag set and it’s not active flare or explosive.</li>
  <li>player or AI uses any drug</li>
</ol>

<p>This is fired before the object is used, and the relevant use_obj_on script procedures are run. You can disable default item behavior.
NOTE: you can’t remove and/or destroy this object during the hookscript (game will crash otherwise). To remove it, return 1.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Critter arg1 - The target
Critter arg2 - The user
int     arg3 - The object used

int     ret1 - overrides hard-coded handler and selects what should happen with the item (0 - place it back, 1 - remove it, -1 - use engine handler)
</code></pre></div></div>

<h2 id="useskill">UseSkill</h2>

<p><code class="highlighter-rouge">HOOK_USESKILL</code> (hs_useskill.int)</p>

<p>Runs when using any skill on any object.</p>

<p>This is fired before the default handlers are called, which you can override. In this case you should write your own skill use handler entirely, or otherwise nothing will happen (this includes fade in/fade out, time lapsing and messages - all of this can be scripted; to get vanilla text messages - use <code class="highlighter-rouge">message_str_game()</code> along with <code class="highlighter-rouge">sprintf()</code>).
Suggested use - override first aid/doctor skills to buff/nerf them, override steal skill to disallow observing NPCs inventories in some cases.
Doesn’t seem to run when lock picking.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Critter arg1 - The user critter
Obj     arg2 - The target object
int     arg3 - skill being used
int     arg4 - skill bonus from items such as first aid kits

int     ret1 - overrides hard-coded handler (-1 - use engine handler, any other value - override)
</code></pre></div></div>

<h2 id="useskillon">UseSkillOn</h2>

<p><code class="highlighter-rouge">HOOK_USESKILLON</code> (hs_useskillon.int)</p>

<p>Runs before using any skill on any object. Lets you override the critter that uses the skill.
<strong>NOTE:</strong> the user critter can’t be overridden when using Steal skill.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Critter arg1 - The user critter (usually dude_obj)
Obj     arg2 - The target object/critter
int     arg3 - skill being used

int     ret1 - a new critter to override the user critter. Pass -1 to cancel the skill use, pass 0 to skip this return value
int     ret2 - pass 1 to allow the skill being used in combat (only for dude_obj or critter being controlled by the player)
</code></pre></div></div>

<h2 id="withinperception">WithinPerception</h2>

<p><code class="highlighter-rouge">HOOK_WITHINPERCEPTION</code> (hs_withinperception.int)</p>

<p>Runs when checking if one critter sees another critter. This is used in different situations like combat AI. You can override the result.</p>

<p><strong>NOTE:</strong> <code class="highlighter-rouge">obj_can_see_obj</code> calls this first when deciding if critter can possibly see another critter with regard to perception, lighting, sneak factors. If check fails, the end result is false. If check succeeds (e.g. critter is within perception range), another check is made if there is any blocking tile between two critters (which includes stuff like windows, large bushes, barrels, etc.) and if there is - check still fails. You can override “within perception” check by returning 0 or 1, OR, as a convenience, you can also override blocking check after the perception check by returning 2 instead. In this case you should add “line of sight” check inside your hook script, otherwise critters will detect you through walls.</p>

<p>This is fired after the default calculation is made.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Critter arg1 - Watcher object
Obj     arg2 - Target object
int     arg3 - Result of vanilla function: 1 - within perception range, 0 - otherwise
int     arg4 - Type of hook: 1 - when being called from obj_can_see_obj script function, 2 when being called from obj_can_hear_obj script function (need to set ObjCanHearObjFix=1 in ddraw.ini), 0 for all other cases

int     ret1 - overrides the returned result of the function: 0 - not in range (can't see), 1 - in range (will see if not blocked), 2 - forced detection (will see regardless, only used in obj_can_see_obj scripting function which is called by every critter in the game)
</code></pre></div></div>



        </div>
      </div>
    </div>
  </div>

</body>
</html>
